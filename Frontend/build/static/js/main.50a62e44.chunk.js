(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1);n(46);t.a=function(e){return e.href?a.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?a.a.createElement(o.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):a.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}})},,function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(29);t.a=function(e){return a.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},a.a.createElement("div",{className:"lds-dual-ring"}))}},,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=n(52),l=n(19),u=(n(48),function(e){var t=a.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},a.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},a.a.createElement("h2",null,e.header)),a.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},a.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),a.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return c.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return a.a.createElement(a.a.Fragment,null,e.show&&a.a.createElement(l.a,{onClick:e.onCancel}),a.a.createElement(i.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},a.a.createElement(u,e)))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(15),c=n(9);t.a=function(e){return a.a.createElement(o.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:a.a.createElement(c.a,{onClick:e.onClear},"Okay")},a.a.createElement("p",null,e.error))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),a=n(5),o=n(0);function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new A(r||[]);return a(c,"_invoke",{value:k(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var m="suspendedStart",p="executing",d="completed",v={};function y(){}function g(){}function E(){}var w={};s(w,i,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==n&&r.call(x,i)&&(w=x);var L=E.prototype=y.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(s).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=N(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=E,a(L,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:g,configurable:!0}),g.displayName=s(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},O(j.prototype),s(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new j(h(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(L),s(L,u,"Generator"),s(L,i,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var i=function(){var e=Object(o.useState)(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],l=Object(o.useState)(),u=Object(a.a)(l,2),s=u[0],h=u[1],f=Object(o.useRef)([]),m=Object(o.useCallback)(function(){var e=Object(r.a)(c().mark((function e(t){var n,r,a,o,l,u,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",r=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:{},i(!0),o=new AbortController,f.current.push(o),e.prev=6,e.next=9,fetch(t,{method:n,body:r,headers:a,signal:o.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(u=e.sent,f.current=f.current.filter((function(e){return e!==o})),l.ok){e.next=16;break}throw new Error(u.message);case 16:return i(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),h(e.t0.message),i(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){f.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:m,clearError:function(){h(null)}}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(47);t.a=function(e){return a.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),c=n.n(o);n(44);t.a=function(e){return c.a.createPortal(a.a.createElement("div",{className:"bd",onClick:e.onClick}),document.getElementById("backdrop"))}},,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(12),c=n(5),i=n(9),l=n(18),u=n(15),s=n(16),h=n(13),f=n(17),m=n(11);n(49);function p(){p=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new A(r||[]);return a(c,"_invoke",{value:k(e,n,i)}),c}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",m="executing",d="completed",v={};function y(){}function g(){}function E(){}var w={};u(w,c,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==n&&r.call(x,c)&&(w=x);var L=E.prototype=y.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,o,c,i){var l=h(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(s).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=f;return function(o,c){if(a===m)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=N(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=h(t,n,r);if("normal"===u.type){if(a=r.done?d:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=h(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=E,a(L,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:g,configurable:!0}),g.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new j(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(L),u(L,l,"Generator"),u(L,c,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var d=function(e){var t=Object(f.a)(),n=t.isLoading,d=t.error,v=t.clearError,y=t.sendRequest,g=Object(r.useContext)(m.a),E=Object(r.useState)(!1),w=Object(c.a)(E,2),b=w[0],x=w[1],L=Object(r.useState)(!1),O=Object(c.a)(L,2),j=O[0],k=O[1],N=function(){return x(!1)},_=function(){k(!1)},C=function(){var t=Object(o.a)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!1),t.prev=1,t.next=4,y("".concat("http://localhost:3000/api","/places/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+g.token});case 4:e.onDelete(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{error:d,clearError:v}),a.a.createElement(u.a,{show:b,onCancel:N,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:a.a.createElement(i.a,{onClick:N},"CLOSE")},a.a.createElement("div",{className:"map-container"},a.a.createElement("a",{href:e.location},a.a.createElement("h2",null,"Google Maps Link")),a.a.createElement("p",null,"GoogleMap can be rendered here. Map not visible due to some contraints"))),a.a.createElement(u.a,{show:j,onCancel:_,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{inverse:!0,onClick:_},"CANCEL"),a.a.createElement(i.a,{danger:!0,onClick:C},"DELETE"))},a.a.createElement("p",null,"Do you want to proceed and delete this place? Please note that it can't be undone thereafter.")),a.a.createElement("li",{className:"place-item"},a.a.createElement(l.a,{className:"place-item__content"},n&&a.a.createElement(h.a,{asOverlay:!0}),a.a.createElement("div",{className:"place-item__image"},a.a.createElement("img",{src:"".concat("http://localhost:3000","/").concat(e.image),alt:e.title})),a.a.createElement("div",{className:"place-item__info"},a.a.createElement("h2",null,e.title),a.a.createElement("h3",null,e.address),a.a.createElement("p",null,e.description)),a.a.createElement("div",{className:"place-item__actions"},a.a.createElement(i.a,{inverse:!0,onClick:function(){return x(!0)}},"VIEW ON MAP"),g.userId===e.creatorId&&a.a.createElement(i.a,{to:"/places/".concat(e.id)},"EDIT"),g.userId===e.creatorId&&a.a.createElement(i.a,{danger:!0,onClick:function(){k(!0)}},"DELETE")))))};n(50),t.a=function(e){return 0===e.items.length?a.a.createElement("div",{className:"place-list"},a.a.createElement(l.a,null,a.a.createElement("h2",null,"No places found. Maybe create one?"),a.a.createElement(i.a,{to:"/places/new"},"Share a Place"))):a.a.createElement("ul",{className:"place-list"},e.items.map((function(t){return a.a.createElement(d,{key:t.id,id:t.id,image:t.image,title:t.title,description:t.description,address:t.address,creatorId:t.creator,location:t.location,onDelete:e.onDeletePlace})})))}},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVR4nO2USwrCQBBE397PSr2OxhsoXkXEhajJxtsoeg6NN/G71ZGBCgQhTjJBFLGgITDVXUNNdeBX0QIiIAauqh0QAs2ywwfAGTAZdQL6ZYbfNWgJtIGKqgOsdHYDej62JDcfvuCNxDkCjSICUermLqzFnRcR2KvJ2uJCIK59+Ny4qKmag1sT11qaG+cCAnUfgVhNNi0udH0sCtVko+jCRtxZEYGmlsgoilkYi3Pw2eq+lsgoioHepCpbkpvbmuCJnpYo61dx0HDjY1OChpZoq/he9T1P2WLKirgwehJZ/EW+yq4pb8LsXYn6HB6EGmSrW6n6egAAAABJRU5ErkJggg=="},function(e,t,n){},function(e,t,n){},,function(e,t,n){e.exports=n(51)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=(n(36),n(2)),l=n(1),u=n(5),s=(n(37),n(11)),h=function(){var e=Object(r.useContext)(s.a);return a.a.createElement("ul",{className:"nav_links"},a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/",exact:!0},"All Users"))),a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/places",exact:!0},"All Places"))),e.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/".concat(e.userId,"/places")},"My Places"))),e.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/places/new"},"Add Place"))),!e.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/auth"},"Login"))),e.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/auth",onClick:e.logout},"Logout"))))},f=(n(43),function(e){var t=a.a.createElement("aside",{className:"sd"},e.children);return c.a.createPortal(t,document.getElementById("drawer"))}),m=n(19),p=(n(45),function(){var e,t=Object(r.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],i=function(){c(!1)},p=Object(r.useContext)(s.a);return e=p.isLoggedIn?a.a.createElement("h1",{className:"nav_h1"},a.a.createElement(l.b,{to:"/".concat(p.userId,"/places")},"Your Places")):a.a.createElement("h1",{className:"nav_h1"},a.a.createElement(l.b,{to:"/auth"},"Your Places")),a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(m.a,{onClick:i}),o&&a.a.createElement(f,null,a.a.createElement("ul",{className:"sd_link"},a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/",exact:!0,onClick:i},"All Users"))),a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/places",exact:!0,onClick:i},"All Places"))),p.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/".concat(p.userId,"/places"),onClick:i},"My Places"))),p.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/places/new",onClick:i},"Add Place"))),!p.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/auth",onClick:i},"Login"))),p.isLoggedIn&&a.a.createElement("h3",null,a.a.createElement("li",null,a.a.createElement(l.c,{to:"/auth",onClick:p.logout},"Logout"))))),a.a.createElement("header",{className:"nav_header"},a.a.createElement("button",{className:"nav_btn",onClick:function(){c(!0)}},a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("span",null)),e,a.a.createElement("nav",{className:"nav_nav"},a.a.createElement(h,null))))}),d=n(12),v=n(25),y=n(16),g=n(13),E=n(17),w=n(27),b=n.n(w);n(28);function x(){x=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,c=Object.create(o.prototype),i=new A(r||[]);return a(c,"_invoke",{value:k(e,n,i)}),c}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",m="executing",p="completed",d={};function v(){}function y(){}function g(){}var E={};u(E,c,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(I([])));b&&b!==n&&r.call(b,c)&&(E=b);var L=g.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,o,c,i){var l=h(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(s).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=f;return function(o,c){if(a===m)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=N(i,r);if(l){if(l===d)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=h(t,n,r);if("normal"===u.type){if(a=r.done?p:"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=p,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=g,a(L,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new j(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(L),u(L,l,"Generator"),u(L,c,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}var L,O=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(u.a)(c,2),s=l[0],h=l[1],f=Object(E.a)(),m=f.isLoading,p=f.error,w=f.clearError,L=f.sendRequest,O=Object(i.useParams)().userId;Object(r.useEffect)((function(){(function(){var e=Object(d.a)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("".concat("http://localhost:3000/api","/places"));case 3:t=e.sent,o(t.places),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[L,O]);var j=function(){var e=Object(d.a)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L("".concat("http://localhost:3000/api","/places/search"),"POST",JSON.stringify({search:s}),{"Content-Type":"application/json"});case 4:n=e.sent,o(n.places),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{error:p,onClear:w}),a.a.createElement("form",{onSubmit:j},a.a.createElement("div",{className:"search-bar-area"},a.a.createElement("input",{type:"text",className:"searchbar",placeholder:"Search for Places...",onChange:function(e){return h(e.target.value)}}),a.a.createElement("button",{className:"search",type:"submit"},a.a.createElement("img",{className:"searchBtn",src:b.a,alt:"search"})))),m&&a.a.createElement("div",{className:"center"},a.a.createElement(g.a,null)),!m&&n&&a.a.createElement(v.a,{items:n,onDeletePlace:function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))}}))},j=a.a.lazy((function(){return n.e(6).then(n.bind(null,71))})),k=a.a.lazy((function(){return n.e(3).then(n.bind(null,67))})),N=a.a.lazy((function(){return n.e(7).then(n.bind(null,68))})),_=a.a.lazy((function(){return n.e(4).then(n.bind(null,69))})),C=a.a.lazy((function(){return n.e(5).then(n.bind(null,70))})),A=function(){var e,t=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(r.useState)(!1),h=Object(u.a)(s,2),f=h[0],m=h[1],p=Object(r.useCallback)((function(e,t,n){a(t),m(e);var r=n||new Date((new Date).getTime()+36e5);l(r),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:r.toISOString()}))}),[]),d=Object(r.useCallback)((function(){a(null),m(null),l(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(n&&i){var e=i.getTime()-(new Date).getTime();L=setTimeout(d,e)}else clearTimeout(L)}),[n,d,i]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&p(e.userId,e.token,new Date(e.expiration))}),[p]),{token:n,login:p,logout:d,userId:f}}(),n=t.token,o=t.login,c=t.logout,h=t.userId;return e=n?a.a.createElement(i.Switch,null,a.a.createElement(i.Route,{path:"/",exact:!0},a.a.createElement(j,null)),a.a.createElement(i.Route,{path:"/places",exact:!0},a.a.createElement(O,null)),a.a.createElement(i.Route,{path:"/:userId/places",exact:!0},a.a.createElement(N,null)),a.a.createElement(i.Route,{path:"/places/new",exact:!0},a.a.createElement(k,null)),a.a.createElement(i.Route,{path:"/places/:placeId"},a.a.createElement(C,null)),a.a.createElement(i.Redirect,{to:"/"})):a.a.createElement(i.Switch,null,a.a.createElement(i.Route,{path:"/",exact:!0},a.a.createElement(j,null)),a.a.createElement(i.Route,{path:"/places",exact:!0},a.a.createElement(O,null)),a.a.createElement(i.Route,{path:"/:userId/places",exact:!0},a.a.createElement(N,null)),a.a.createElement(i.Route,{path:"/auth"},a.a.createElement(_,null)),a.a.createElement(i.Redirect,{to:"/auth"})),a.a.createElement(s.a.Provider,{value:{isLoggedIn:!!n,token:n,userId:h,login:o,logout:c}},a.a.createElement(l.a,null,a.a.createElement(p,null),a.a.createElement("main",null,a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",{className:"center"},a.a.createElement(g.a,null))},e))))};c.a.render(a.a.createElement(A,null),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.50a62e44.chunk.js.map